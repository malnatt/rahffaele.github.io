<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
  </head>
  <body>
  	<div>
		<a href="../index.html" class="bc">Home</a>
		<a href="../portfolio.html" class="bc_selected">Portfolio</a>
		<a href="../archives.html" class="bc">Archive</a>
		<a href="../about.html" class="bc">About me</a>
	</div>
	<div class="description">
		<p>My selected projects! Use the cursor to draw a rectangle and make them visible - or just click anywhere.</p>
	</div>
  </body>
  <script>
    let isDrawing = false;
let startX, startY, rect;
let rectCounter = 0;
let texts = [
  "CMIK - A cromatic guide of Milan",
  "Interactive experience map, to map a business' customer experience over time",
  "Sed do eiusmod tempor incididunt",
  "Ut labore et dolore magna aliqua",
  "Ut enim ad minim veniam",
];
let bgColors = [
  "black",
  "#A2FD14",
];
let textColors = [
  "white",
  "black",
];
let fontFamilies = "Mori";

document.addEventListener("mousedown", function(event) {
  if (rectCounter === 5) return;

  isDrawing = true;
  startX = event.clientX;
  startY = event.clientY;

  rect = document.createElement("div");
  rect.style.position = "absolute";
  rect.style.left = startX + "px";
  rect.style.top = startY + "px";
  rect.style.backgroundColor = bgColors[rectCounter % 2];
  rect.style.color = textColors[rectCounter % 2];
  rect.style.cursor = "crosshair";
  rect.style.border = "thin solid black";
  rect.style.textAlign = "left";
  rect.style.fontSize = "16px";
  rect.style.fontFamily = fontFamilies
  rect.style.padding = "10px";
  
  document.body.appendChild(rect);
});

document.addEventListener("mouseup", function() {
  isDrawing = false;

  let text = document.createTextNode(texts[rectCounter % 5]);
  rect.appendChild(text);
  rectCounter++;
});

document.addEventListener("mousemove", function(event) {
  if (!isDrawing) return;

  let width = event.clientX - startX;
  let height = event.clientY - startY;
  if (width > 15 && height > 15) {
    rect.style.width = width + "px";
  	rect.style.height = height + "px";
  }
  else { rect.addEventListener("click", function() {
    window.open("https://www.google.com");
  });
  }

  let fontSize = 12 + Math.sqrt(width * height) / 10;
  rect.style.fontSize = fontSize + "px";
});

  </script>
</html>

